<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Golden-nights by fanta2k1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
		integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
		crossorigin="anonymous">
	</script>
	<script type="text/javascript">
		$(function() {
			for (var i = 10; i <= 100; i = i + 10)
			{
				$("#cnt").append($("<option value='" + i + "'>" + i + "</option>"));
			}

			$("button").click(function(e) {
				e.preventDefault();
				$("#result").empty();

				var fivestar = new Array("카로스","미카엘라","카렌","엘리사","렉스","발키리","드라쿤","지니","아이리스","카딘", "카블로","시에라","하젤","카인","카르멘","마리아","쥬디스","헌터킹","아이스드라쿤","빅토리아", "프레드릭", "파이거", "드라노스", "그레이스", "바바라", "하켄", "크리스", "브라이언", "플라톤", "케이트", "레나", "크라우저");
				var r4 = $("#ratio4").val() * 10;
				var r5 = $("#ratio5").val() * 10;

				var cnt3 = 0, cnt4 = 0, cnt5 = 0;
				
				for (var i = 0; i < $("#cnt").val(); i++)
				{
					var rnd = Math.floor(Math.random() * 1001);
					var rslt = 3;

					if (rnd <= r5)
					{
						rslt = 5;
					} 
					else if (rnd > r5 && rnd <= r4 + r5)
					{
						rslt = 4;
					}

					if (rslt == 3)
					{
						$("#result").append("3성<br />");
						cnt3++;
					} 
					else if (rslt == 4)
					{
						$("#result").append("<font color='purple'>4성</font><br />");
						cnt4++;
					}
					else if (rslt == 5)
					{
						var chrrad = Math.floor(Math.random() * fivestar.length);
						$("#result").append("<font color='red'>5성 : " + fivestar[chrrad] + "</font><br />");
						cnt5++;
					}
				}

				$("#summary").html("3성 : " + cnt3 + ", <font color='purple'>4성 : " + cnt4 + "</font>, <font color='red'>5성 : " + cnt5 + "</font>");
			});
		})

	</script>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Golden-nights gacha</h1>
    </section>

    <section class="main-content">
      <h3>
<a id="welcome-to-golden-nights-gacha-simulation-pages" class="anchor" href="#welcome-to-golden-nights-gacha-simulation-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>당신의 운을 시험해 보세요</h3>

		<form>
			<div style="padding-bottom: 5px">4성 확률 : <input type="text" id="ratio4" value="10" /> %</div>
			<div style="padding-bottom: 5px">5성 확률 : <input type="text" id="ratio5" value="1" /> %</div>
			<div style="padding-bottom: 5px">뽑기 횟수 : <select id="cnt"></select> <button>시작</button></div>
			
			<div id="summary"></div>
			<div id="result"></div>
		</form>



    </section>

  
  </body>
</html>
